# 实时计算概述
![enter image description here](http://static.oschina.net/uploads/img/201410/14080822_ia5p.png)

---

## 目录
 - 分布式系统和实时计算
 - Zookeeper
 - Storm
 - Kafka
 - 在业务中使用storm
 - 讨论

---

## 分布式系统
>***Storm是开源的、分布式、流式计算系统***

 - 分布式系统是把计算或存储任务放在多个主机上，提高扩展性

---

![谷歌三驾马车，提出分布式计算思想](https://images2015.cnblogs.com/blog/915691/201604/915691-20160408214808609-422199238.png)

---

Hadoop诞生

![enter image description here](https://images2015.cnblogs.com/blog/915691/201604/915691-20160408214958312-2124876577.png)

Hadoop和hive作为全量数据处理最著名的工具，具有吞吐量、自动容错等优点，在海量数据计算上具有很强的优势

---

## Hadoop的局限
>高延迟
>只能处理全量数据
>运维复杂

 - 广告点击
 - 电商推荐

---

## 实时计算
![enter image description here](https://images2015.cnblogs.com/blog/915691/201604/915691-20160408221451797-787695268.png)

---

## 实时计算要解决哪些问题
 - 低延迟
 - 高性能
 - 分布式
 - 可扩展
 - 容错性

---

# Zookeeper
![enter image description here](data:image/jpeg;base64,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)

---

## zookeeper
 官方说辞：Zookeeper 分布式服务框架是Apache Hadoop 的一个子项目，它主要是用来解决分布式应用中经常遇到的一些数据管理问题，如：统一命名服务、状态同步服务、集群管理、分布式应用配置项的管理等。
***分布式协调服务框架***
***解决分布一致性问题***
***本质：分布式小文件存储系统 + 通知机制***

---

## 分布式一致性
### CAP
对于一个分布式系统，不可能同时兼顾三点：
 - 一致性（Consistency）
 - 可用性（Availability）
 - 分区容错性（Partition Tolerance）

---

### 弱一致性（高可用性和分区容错性）
 - DNS
 - Cassandra
### 强一致性（高一致性和分区容错性）
 - Master Slave(Redis): 高一致性、低可用性
 - Paxos
 - Raft
 - ZAB

---

## zookeeper提供了什么
### 特性
>全局数据一致
可靠性
顺序性
原子性
实时性

---

## zookeeper提供了什么
### 文件系统
znode：
 - 兼有文件和目录两种特性
 - 具有原子性操作
 - 每个节点存储大小有严格限制，一般都是几KB
 - 必须绝对路径引用

---

## zookeeper提供了什么
### 通知机制
 - 在客户端监听注册它关心的节点，一旦数据发生改变都会受到通知

---

## zookeeper的典型应用场景
>### 配置管理
在zk上管理服务的配置内容。订阅者是所有使用配置的服务
服务在启动时可以从ZK获取需要的配置，设置监听事件

---

>### 命名服务
利用zk的全局一致性，上下游的服务可以在zk约定好path相互探索发现

---

>### 分布式锁
***保持独占***
创建同名的节点作为锁。创建成功就获得了锁并操作某个文件
***控制时序***
根据ZK创建临时节点的序列化特性，根据创建节点的先后来访问文件

---

>### 集群管理
 - 机器的加入和退出
加入和退出时创建或删除相应的节点
 - master选举
类似于分布式独占锁

---

# Storm
![enter image description here](http://static.oschina.net/uploads/img/201410/14080822_ia5p.png)

---

## 
